<!-- cuenta_cobro_form.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generar Cuenta de Cobro</title>
</head>
<body>
    <h2>Datos del Cliente</h2>
    <form action="{% url 'guardar_cuenta_cobro' %}" method="POST">
        {% csrf_token %}
        <!-- Datos del Cliente -->
        <label for="institucion">Instituci贸n:</label>
        <input type="text" id="institucion" name="institucion" required><br><br>

        <label for="nit">NIT:</label>
        <input type="text" id="nit" name="nit" required><br><br>

        <label for="direccion">Direcci贸n:</label>
        <input type="text" id="direccion" name="direccion" required><br><br>

        <label for="municipio">Municipio:</label>
        <input type="text" id="municipio" name="municipio" required><br><br>

        <label for="departamento">Departamento:</label>
        <input type="text" id="departamento" name="departamento" required><br><br>

        <h2>Datos del Pedido</h2>
        <!-- Datos del Pedido -->
        <label for="codigo_producto">C贸digo del Producto:</label>
        <input type="text" id="codigo_producto" name="codigo_producto" required><br><br>

        <label for="descripcion">Descripci贸n:</label>
        <input type="text" id="descripcion" name="descripcion" required><br><br>

        <label for="cantidad">Cantidad:</label>
        <input type="number" id="cantidad" name="cantidad" required><br><br>

        <label for="valor_unitario">Valor Unitario:</label>
        <input type="number" step="0.01" id="valor_unitario" name="valor_unitario" required><br><br>

        <button type="submit">Generar Cuenta de Cobro</button>
    </form>

    <form method="POST" action="{% url 'agregar_producto' %}">
        {% csrf_token %}

        <label for="producto_nombre">Codigo producto:</label>
        <input type="text" name="producto_nombre" required>
        
        <label for="producto_nombre">Producto:</label>
        <input type="text" name="producto_nombre" required>
        
        <label for="cantidad">Cantidad:</label>
        <input type="number" name="cantidad" required>
        
        <label for="precio">Precio:</label>
        <input type="text" name="precio" required>
        
        <button type="submit">Agregar Producto</button>
    </form>
    
    <h2>Productos Agregados:</h2>
    <table>
        <tr>
            <th>Codigo producto</th>
            <th>Producto</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>Total</th>
        </tr>
        {% for producto in productos %}
        <tr>
            <td>{{ producto.codigo_prenda}}</td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.cantidad }}</td>
            <td>{{ producto.precio }}</td>
            <td>{{ producto.total }}</td>
        </tr>
        {% endfor %}
    </table>
    
    <form method="POST" action="{% url 'guardar_cuenta_cobro' %}">
        {% csrf_token %}
        <button type="submit">Generar Cuenta de Cobro</button>
    </form>
</body>
</html>
